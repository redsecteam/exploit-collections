# CVE-2020-13957 Apache Solr 未授权上传漏洞

## 漏洞概述
Solr是一个独立的企业级搜索应用服务器，它对外提供类似于Web-service的API接口。用户可以通过http请求，向搜索引擎服务器提交一定格式的XML文件，生成索引；也可以通过Http Get操作提出查找请求，并得到XML格式的返回结果。在特定的Solr版本中ConfigSet API存在未授权上传漏洞，攻击者利用漏洞可实现远程代码执行。

## 漏洞影响
Apache Solr 6.6.0 -6.6.5

Apache Solr 7.0.0 -7.7.3

Apache Solr 8.0.0 -8.6.2

## 环境搭建
漏洞环境
> https://github.com/redsecteam/exploit-collections/tree/main/CVE-2020-13957/Env

运行漏洞环境
```
docker-compose up -d
```

访问`http://127.0.0.1:8983`，环境运行成功

![1628749091517.png](./img/1628749091517.png)

## 漏洞复现
漏洞脚本
> https://github.com/redsecteam/exploit-collections/tree/main/CVE-2020-13957/Exp/CVE-2021-13957.sh

使用方法
```
./exp.sh ip command
./CVE-2020-13957.sh 127.0.0.1 id
```

![1628750833438.png](./img/1628750833438.png)

